"use strict";(self.webpackChunkdrasti_teacher_dashboard=self.webpackChunkdrasti_teacher_dashboard||[]).push([[836],{7836:(U,h,i)=>{i.r(h),i.d(h,{AuthModule:()=>L});var d=i(9808),m=i(2729),a=i(2382),v=i(259),g=i(6197),o=i(5e3),Z=i(2313),A=i(2290),b=i(5089);function F(n,s){1&n&&(o.TgZ(0,"p",22),o._uU(1," \u064a\u0631\u062c\u0649 \u0627\u062f\u062e\u0627\u0644 \u0631\u0642\u0645 \u0647\u0627\u062a\u0641 \u0635\u062d\u064a\u062d "),o.qZA())}function C(n,s){1&n&&(o.TgZ(0,"p",23),o._uU(1," \u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628 "),o.qZA())}function T(n,s){1&n&&o._UZ(0,"i",24)}const y=function(n,s){return{"fa-eye":n,"fa-eye-slash":s}},I=[{path:"login",component:(()=>{class n{constructor(e,t,u,l,r){this.fb=e,this.title=t,this.router=u,this.toastr=l,this.authservice=r,this.password=!0,this.returnPassword=!1,this.loginForm=new a.cw({}),this.submited=!1,this.loginloading=!1}ngOnInit(){this.app=(0,v.ZF)({apiKey:"AIzaSyCrZO0tF5O5Ms8au460-tmGbNS3mJ6QrEc",authDomain:"drasti-37a06.firebaseapp.com",databaseURL:"https://drasti-37a06-default-rtdb.firebaseio.com",projectId:"drasti-37a06",storageBucket:"drasti-37a06.appspot.com",messagingSenderId:"850147128578",appId:"1:850147128578:web:2153add74417b85d4fbe1b",measurementId:"G-41JEDDFQT2"}),this.db=(0,g.N8)(this.app),this.loginForm=this.fb.group({email_phone:["",[a.kI.required,a.kI.pattern(/^[569\u0665\u0666\u0669][\u0660-\u0669]{7}$|^[569\u0665\u0666\u0669]\d{7}$/)]],password:["",a.kI.required]})}login(e){this.submited=!0,this.loginForm.valid&&(this.loginloading=!0,this.authservice.login(e).subscribe(t=>{var u,l,r,p,f,c;localStorage.setItem("drastitoken",null===(u=null==t?void 0:t.meta)||void 0===u?void 0:u.token),localStorage.setItem("userid",null===(l=null==t?void 0:t.data)||void 0===l?void 0:l.id),localStorage.setItem("username",`${null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.fname} ${null===(p=null==t?void 0:t.data)||void 0===p?void 0:p.lname}`),(0,g.t8)((0,g.iH)(this.db,`Auth/${null===(f=null==t?void 0:t.data)||void 0===f?void 0:f.id}`),{user_token:null===(c=null==t?void 0:t.meta)||void 0===c?void 0:c.token}),this.loginloading=!1,this.router.navigate(["/"]),this.toastr.success("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0646\u062c\u0627\u062d")},t=>{this.loginloading=!1}))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(a.qu),o.Y36(Z.Dx),o.Y36(m.F0),o.Y36(A._W),o.Y36(b.e))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:10,consts:[[1,"login",2,"min-height","100vh"],[1,"container"],[1,"row"],[1,"col-md-2","col-lg-3"],[1,"col-md-8","col-lg-6"],[1,"py-5"],[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["for","email_phone"],[1,"redstar"],[1,"d-flex","align-items-center","mb-3"],["min","1","formControlName","email_phone",1,"form-control","phonenumberRight"],["value","+965","readonly","",1,"form-control","phonenumberLeft"],["class","text-danger my-2",4,"ngIf"],["for","password"],[1,"position-relative"],["formControlName","password",1,"form-control",3,"type"],[1,"fa-solid",2,"position","absolute","top","11px","left","11px","cursor","pointer",3,"ngClass","click"],["class","text-danger my-1",4,"ngIf"],[1,"bluButton","submitinput","w-100","text-center",3,"disabled"],["class","fas fa-circle-notch fa-spin",4,"ngIf"],[1,"col-md-2","col-md-3"],[1,"text-danger","my-2"],[1,"text-danger","my-1"],[1,"fas","fa-circle-notch","fa-spin"]],template:function(e,t){if(1&e&&(o.TgZ(0,"section",0)(1,"div",1)(2,"div",2),o._UZ(3,"div",3),o.TgZ(4,"div",4)(5,"div",5)(6,"h2"),o._uU(7,"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"),o.qZA(),o.TgZ(8,"form",6),o.NdJ("ngSubmit",function(){return t.login(t.loginForm.value)}),o.TgZ(9,"div",7)(10,"label",8),o._uU(11," \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 "),o.TgZ(12,"span",9),o._uU(13,"*"),o.qZA()(),o.TgZ(14,"div",10),o._UZ(15,"input",11)(16,"input",12),o.qZA(),o.YNc(17,F,2,0,"p",13),o.qZA(),o.TgZ(18,"div",7)(19,"label",14),o._uU(20," \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 "),o.TgZ(21,"span",9),o._uU(22,"*"),o.qZA()(),o.TgZ(23,"div",15),o._UZ(24,"input",16),o.TgZ(25,"i",17),o.NdJ("click",function(){return t.password=!t.password}),o.qZA()(),o.YNc(26,C,2,0,"p",18),o.qZA(),o.TgZ(27,"div",7)(28,"button",19),o._uU(29," \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 "),o.YNc(30,T,1,0,"i",20),o.qZA()()()()(),o._UZ(31,"div",21),o.qZA()()()),2&e){let u,l;o.xp6(8),o.Q6J("formGroup",t.loginForm),o.xp6(9),o.Q6J("ngIf",null!=(null==(u=t.loginForm.get("email_phone"))?null:u.errors)&&(null==(u=t.loginForm.get("email_phone"))?null:u.touched)||null!=(null==(u=t.loginForm.get("email_phone"))?null:u.errors)&&t.submited),o.xp6(7),o.Q6J("type",t.password?"password":"text"),o.xp6(1),o.Q6J("ngClass",o.WLB(7,y,t.password,!t.password)),o.xp6(1),o.Q6J("ngIf",null!=(null==(l=t.loginForm.get("password"))?null:l.errors)&&(null==(l=t.loginForm.get("password"))?null:l.touched)||null!=(null==(l=t.loginForm.get("password"))?null:l.errors)&&t.submited),o.xp6(2),o.Q6J("disabled",t.loginloading),o.xp6(2),o.Q6J("ngIf",t.loginloading)}},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,d.O5,d.mk],styles:[""]}),n})()}];let J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[m.Bz.forChild(I)],m.Bz]}),n})();var w=i(4466);let L=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[d.ez,J,w.m]]}),n})()}}]);